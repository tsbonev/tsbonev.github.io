<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title data-i18n="pageTitle">Table Planner</title>
	<link rel="icon"
		href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>📋</text></svg>">
	<link rel="stylesheet" href="styles.css" />
</head>

<body>
	<header class="toolbar">
		<div class="left">
			<div id="tableCount" class="count-pill" data-i18n="tableCount"></div>
			<div id="seatCount" class="count-pill" data-i18n="seatCount">| Seats: 0</div>
			<button id="addCircleTableBtn" data-i18n="addCircleTableBtn">Add Circle</button>
			<button id="addRectTableBtn" data-i18n="addRectTableBtn">Add Rectangle</button>
			<button id="addSeparatorBtn" data-i18n="addSeparatorBtn">Add Separator</button>
			<button id="recenterBtn" data-i18n="recenterBtn">🎯 Re-center</button>
		</div>
		<div class="center">
			<label class="snap">
				<input type="checkbox" id="snapToggle" />
				<span data-i18n="snapToggle">Snap</span>
			</label>
			<label class="grid-size">
				<span data-i18n="gridSizeInput">Grid</span>
				<input type="number" id="gridSizeInput" min="4" max="64" step="1" value="12" />
			</label>
			<label class="show-grid">
				<input type="checkbox" id="showGridToggle" checked />
				<span data-i18n="showGridToggle">Show Grid</span>
			</label>
			<div class="zoom-level" id="zoomLevel">100%</div>
		</div>
		<div class="right">
			<button id="undoBtn" data-i18n="undoBtn">Undo</button>
			<button id="redoBtn" data-i18n="redoBtn">Redo</button>
			<button id="exportBtn" data-i18n="exportBtn">Export Plan</button>
			<button id="importBtn" type="button" data-i18n="importBtn">Import Plan</button>
			<input type="file" id="importInput" accept="application/json" style="display:none" />
			<button id="printSeatingChartBtn" type="button" data-i18n="printSeatingChartBtn">🖨️ Print</button>
			<button id="printBtn" type="button" data-i18n="printBtn">🖨️ Print Page</button>
			<button id="languageBtn" type="button">🇧🇬</button>
		</div>
	</header>
	<main class="layout">
		<section class="canvas-wrap">
			<div id="canvas" class="canvas" tabindex="0"></div>
			<div id="seatingChart" class="seating-chart" style="display:none"></div>
		</section>
		<button id="sidebarToggle" class="sidebar-toggle" data-i18n-attr="title:toggleSidebar"></button>
		<button id="viewToggleBtn" class="view-toggle" data-i18n-attr="title:viewToggleBtn">📋</button>
		<button id="legendToggle" class="legend-toggle" data-i18n-attr="title:toggleLegend">🎨</button>
		<aside id="legendSidebar" class="legend-sidebar">
			<h2><span data-i18n="legendTitle">Color Legend</span></h2>
			<div id="legendContent" class="legend-content">
				<!-- Legend content will be populated here -->
			</div>
		</aside>
		<aside id="sidebar" class="sidebar">
			<h2><span data-i18n="guestsTitle">Guests</span> <span id="guestCounts" class="count-pill"></span></h2>
			<div id="tableGuests" class="table-guests" style="display:none">
				<h3>Table Guests</h3>
				<div id="tableGuestsList" class="table-guests-list"></div>
			</div>
			<div class="guest-pictures">
				<button id="selectPictureFolderBtn" type="button" data-i18n="selectPictureFolderBtn">Select Picture
					Folder</button>
				<button id="scanPicturesBtn" type="button" data-i18n="scanPicturesBtn" style="display:none">Scan for
					Pictures</button>
				<div id="pictureFolderStatus" class="picture-folder-status" style="display:none"></div>
			</div>
			<div class="guest-csv">
				<button id="exportGuestsCsvBtn" type="button" data-i18n="exportGuestsCsvBtn">Export Guests CSV</button>
				<button id="importGuestsCsvBtn" type="button" data-i18n="importGuestsCsvBtn">Import Guests CSV</button>
				<input id="importGuestsCsvInput" type="file" accept="text/csv" style="display:none" />
			</div>
			<form id="guestForm" class="guest-form">
				<div class="form-row">
					<input id="guestNameInput" type="text" data-i18n="guestNameInput" placeholder="Guest name"
						required />
					<input id="guestColorInput" type="color" value="#6aa9ff" />
					<button type="submit" data-i18n="guestFormSubmit">Add</button>
				</div>
				<label class="child-checkbox">
					<input id="guestChildInput" type="checkbox" />
					<span data-i18n="guestChildLabel">Child</span>
				</label>
			</form>
			<div class="guest-controls">
				<label><span data-i18n="guestSortLabel">Sort:</span>
					<select id="guestSortSelect">
						<option value="unassignedFirst" data-i18n="guestSortUnassignedFirst">Unassigned first</option>
						<option value="assignedFirst" data-i18n="guestSortAssignedFirst">Assigned first</option>
						<option value="name" data-i18n="guestSortName">Name A–Z</option>
						<option value="color" data-i18n="guestSortColor">Color</option>
						<option value="childFirst" data-i18n="guestSortChildFirst">Children first</option>
						<option value="tableSeat" data-i18n="guestSortTableSeat">Table & Seat</option>
					</select>
				</label>
				<label class="filter">
					<input id="guestUnassignedOnly" type="checkbox" />
					<span data-i18n="guestUnassignedOnly">Unassigned only</span>
				</label>
			</div>
			<div class="guest-search">
				<input id="guestSearchInput" type="text" data-i18n="guestSearchInput" placeholder="Search guests..." />
			</div>
			<div class="selected-info" id="selectedInfo"></div>
			<div id="tableControls" class="table-controls" style="display:none">
				<h3 data-i18n="tableControlsTitle">Selected Table</h3>
				<label><span data-i18n="seatCountLabel">Seats:</span>
					<input id="seatCountInput" type="number" min="1" max="32" step="1" />
					<button id="applySeatCountBtn" type="button" data-i18n="applySeatCountBtn">Apply</button>
				</label>
				<div id="tableSizeControls" class="table-size-controls">
					<h4 data-i18n="tableSizeLabel">Size:</h4>
					<label><span data-i18n="pixelsPerMeterLabel">Pixels per meter:</span>
						<input id="pixelsPerMeterInput" type="number" min="10" max="1000" step="10" value="100" />
						<span class="unit">px/m</span>
					</label>
					<label><span data-i18n="tableSizeWidth">Width:</span>
						<input id="tableSizeWidthInput" type="number" min="0.1" max="6" step="0.1" />
						<span class="unit" data-i18n="unitMeter">m</span>
					</label>
					<label><span data-i18n="tableSizeHeight">Height:</span>
						<input id="tableSizeHeightInput" type="number" min="0.1" max="6" step="0.1" />
						<span class="unit" data-i18n="unitMeter">m</span>
					</label>
					<button id="tieSizeToCanvasBtn" type="button" data-i18n="tieSizeToCanvasBtn">📏 Tie to
						Canvas</button>
				</div>
				<div id="rectControls" class="rect-controls" style="display:none">
					<label><input type="checkbox" id="oneSidedToggle" /> <span data-i18n="oneSidedToggle">One-sided
							(rect only)</span></label>
					<div class="side-group" id="oneSideGroup" style="display:none">
						<div data-i18n="seatSideLabel">Seat side:</div>
						<label><input type="radio" name="oneSide" value="top" /> <span
								data-i18n="sideTop">Top</span></label>
						<label><input type="radio" name="oneSide" value="right" /> <span
								data-i18n="sideRight">Right</span></label>
						<label><input type="radio" name="oneSide" value="bottom" /> <span
								data-i18n="sideBottom">Bottom</span></label>
						<label><input type="radio" name="oneSide" value="left" /> <span
								data-i18n="sideLeft">Left</span></label>
					</div>
					<div class="side-group" id="oddExtraGroup" style="display:none">
						<div data-i18n="oddExtraSeatLabel">Odd extra seat to:</div>
						<label><input type="radio" name="oddExtraSide" value="top" /> <span
								data-i18n="sideTop">Top</span></label>
						<label><input type="radio" name="oddExtraSide" value="right" /> <span
								data-i18n="sideRight">Right</span></label>
						<label><input type="radio" name="oddExtraSide" value="bottom" /> <span
								data-i18n="sideBottom">Bottom</span></label>
						<label><input type="radio" name="oddExtraSide" value="left" /> <span
								data-i18n="sideLeft">Left</span></label>
					</div>
				</div>
			</div>
			<div id="guestList" class="guest-list"></div>
		</aside>
	</main>
	<script src="i18n.js"></script>
	<script src="state.js"></script>
	<script src="render.js"></script>
	<script src="interactions.js"></script>
	<script src="app.js"></script>
</body>

</html>